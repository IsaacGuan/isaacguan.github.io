!function(e){function t(s){if(a[s])return a[s].exports;var n=a[s]={exports:{},id:s,loaded:!1};return e[s].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var s=a(1),n=a(2),i=a(4),o=a(5),r=a(6);console.info("hexo-theme-archer: v20171217"),(0,s.init)(),(0,n.scroll)(),(0,o.sidebarInit)(),(0,r.initTag)(),(0,i.initMobile)()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});document.addEventListener("DOMContentLoaded",function(){$(".container").removeClass("container-unloaded"),$(".footer").removeClass("footer-unloaded"),$(".loading").remove()},!1),t.init=function(){var e=$(".site-intro-img:first"),t=$(".site-intro-placeholder:first"),a=e.css("background-image").match(/url\("*([^"]*)"*\)/);if(a.length<2)console.log(a);else{var s=a[1],n=new Image;n.onload=function(){t.remove(),console.info("PLACEHOLDER REMOVED")},n.src=s}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scroll=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(a(3));t.scroll=function(){function e(e){return(p+=e-m)>30?(p=0,1):p<-800?(p=0,-1):0}function t(e){if(e>f){if(1!==g)return g=1,b=!1,1}else if(-1!==g)return g=-1,b=!0,-1;return 0}function a(e,t,a){var s=$(window).height(),n=void 0;n=(n=e<f?0:(e-t)/(a-s)*100)>=0?n:100,v.css("width",n+"%")}function n(s){var n=t(s);if(1==n?(u.addClass("toc-fixed"),d.addClass("home-link-hide"),l.addClass("back-top-show"),c.addClass("header-sidebar-menu-black")):-1==n&&(u.removeClass("toc-fixed"),d.removeClass("home-link-hide"),i.removeClass("banner-show"),l.removeClass("back-top-show"),c.removeClass("header-sidebar-menu-black")),w){var o=e(s);1==o?i.removeClass("banner-show"):-1!=o||b||i.addClass("banner-show"),a(s,M,C)}m=s,k=!1}var i=$(".banner:first"),o=i.find(".post-title a"),r=$(".site-intro:first"),d=$(".home-link:first"),l=$(".back-top:first"),c=$(".header-sidebar-menu:first"),f=r.offset().top+r.outerHeight(),u=$(".toc-wrapper:first"),h=u.find(".toc-catalog"),v=$(".read-progress");h.on("click",function(){u.toggleClass("toc-hide-children")});var m=0,p=0,g=-1,b=!0,w=!1,C=void 0,M=void 0;$(".post-body").length&&(w=!0,M=f,C=$(".article-entry").outerHeight(),C=$(".container")[0].addEventListener("transitionend",function(){C=$(".article-entry").outerHeight()}));var k=!1;$(document).on("scroll",function(){var e=$(document).scrollTop(),t=n.bind(null,e);s.default.rafTick(k,t)}),[o,l].forEach(function(e){e.on("click",s.default.backTop)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={backTop:function(e){e.preventDefault();var t=setInterval(function(){var e=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*e))),0===e&&clearInterval(t)},20)},getAbsPosition:function(e){for(var t=e.offsetLeft,a=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,a+=e.offsetTop;return{x:t,y:a}},dateFormater:function(e,t){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in a)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return t},rafTick:function(e,t){e||requestAnimationFrame(t),e=!0}};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initMobile=function(){function e(e){e.matches?(console.log("mobile"),document.body.addEventListener("touchstart",function(){})):console.log("desktop")}if(window.matchMedia){var t=window.matchMedia("(max-width: 900px)");t.addListener(e),e(t)}else window.addListener("resize",function(){e((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900?{matches:!1}:{matches:!0})},!1)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sidebarInit=function(){function e(e){n.addClass("sidebar-show"),i.addClass("wrapper-slide"),f.addClass("header-slide"),c.addClass("toc-slide"),e.stopPropagation()}function t(e){this.scrollHeight==this.clientHeight?window.event.preventDefault():this.scrollTop<=0?e.originalEvent.wheelDelta>0&&window.event.preventDefault():this.scrollTop>=this.scrollHeight-this.clientHeight&&e.originalEvent.wheelDelta<0&&window.event.preventDefault()}function a(){var e=!1,t=new MouseEvent("click",{bubbles:!0,cancelable:!0});e=!(!u.hasClass("sidebar-header-show-archive")||n.hasClass("sidebar-show")),o[0].dispatchEvent(t),l[0].dispatchEvent(t),e&&(u.addClass("sidebar-show-immediately"),r.addClass("sidebar-show-immediately"))}function s(e){var t=$(".sidebar-tags-name:first")[0],a=new MouseEvent("click",{bubbles:!0,cancelable:!0});o[0].dispatchEvent(a),t.currTagName=e,t.dispatchEvent(a)}var n=$(".sidebar:first"),i=$(".wrapper:first"),o=$(".header-sidebar-menu:first"),r=n.find(".sidebar-content:first"),d=n.find(".sidebar-archive-link:first"),l=n.find(".sidebar-tags-link:first"),c=$(".toc-wrapper:first"),f=$(".header:first"),u=n.find(".sidebar-header:first");o.on("click",function(t){e(t)}),n.on("click",function(e){e.stopPropagation()}),i.on("click",function(e){n.hasClass("sidebar-show")&&(e.preventDefault(),n.removeClass("sidebar-show"),f.removeClass("header-slide"),i.removeClass("wrapper-slide"),c.removeClass("toc-slide"))}),d.on("click",function(){r.addClass("sidebar-content-show-archive").removeClass("sidebar-content-show-tags sidebar-show-immediately"),u.addClass("sidebar-header-show-archive").removeClass("sidebar-header-show-tags sidebar-show-immediately")}),l.on("click",function(){r.addClass("sidebar-content-show-tags").removeClass("sidebar-content-show-archive sidebar-show-immediately"),u.addClass("sidebar-header-show-tags").removeClass("sidebar-header-show-archive sidebar-show-immediately")}),n.on("mousewheel",function(e){var a=e.target,s=n.find(".sidebar-tag-list:first"),i=n.find(".sidebar-archive:first");$.contains(s[0],a)||s===a?t.call(s[0],e):$.contains(i[0],a)||i===a?t.call(i[0],e):e.preventDefault()}),$(".post-tag").on("click",function(e){a(),s(e.target.dataset.href),e.stopPropagation()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTag=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(a(3));t.initTag=function(){function e(e){e[0].style.display="block"}function t(e){for(var t=this,a=0;a<e.length;a++)!function(a){var s=e[a].tags;s.length&&s.forEach(function(e){if(i.has(e.name)){var t=i.get(e.name)+","+a.toString();i.set(e.name,t)}else i.set(e.name,a.toString())},t)}(a)}function a(e){var t=$('<li class="tag-post-item"><span class="tag-post-date">'+s.default.dateFormater(new Date(Date.parse(e.date)),"yyyy/MM/dd")+"</span></li>"),a=$('<a class="tag-post-title" href="'+jsInfo.root+e.path+'">'+e.title+"</a>");return t.append(a),t}var n=void 0,i=new Map;!function(){var a=jsInfo.root+"content.json?t="+ +new Date,s=new XMLHttpRequest;s.responseType="",s.open("get",a,!0);var i=$(".tag-load-fail:first");s.onload=function(){200==this.status||304==this.status?(i.remove(),t(n=JSON.parse(this.responseText))):(e(i),$(".sidebar-tags-name:first").remove())},s.send()}(),$(".sidebar-tags-name:first").on("click",function(e){e.preventDefault();var t=e.target;16&this.compareDocumentPosition(t)&&("SPAN"===t.tagName?this.currTagName=t.firstChild.innerHTML:this.currTagName=t.innerHTML);var s=i.get(this.currTagName);if(s){$(this).find(".sidebar-tag-name-focus").removeClass("sidebar-tag-name-focus");for(var o=this.children,r=0;r<o.length;r++)this.currTagName===o[r].firstChild.innerHTML&&o[r].classList.add("sidebar-tag-name-focus");var d=s.split(","),l=document.createDocumentFragment(),c=$(".sidebar-tag-list")[0];c.innerHTML="",d.forEach(function(e){l.appendChild(a(n[e])[0])}),c.appendChild(l)}})}}]);